<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="apple-touch-icon" sizes="76x76" href="https://appsrv1-147a1.kxcdn.com/builder/homepage/assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="/static/assets/streamline.png">
  <meta name="google-site-verification" content="oBAlWYJIhaohrZTMhR0uXsuv9j-nx-CcHRZkBmsxJrQ">
  <title>FlexiUI : A No-Code Web Builder | FlexiUI.com</title>
  <meta name="description" content="Open-Source and FREE Page and Website builder - Build your projects in No-Time for free.">
  <meta name="keywords" content="free builder, site builder, page builder, open-source page builder, free website builder, flexible user interface builder">
  <link rel="canonical" href="https://www.flexiUI.com/main/">

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Noto+Sans:300,400,500,600,700,800|PT+Mono:300,400,500,600,700" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://appsrv1-147a1.kxcdn.com/builder/homepage/assets/css/nucleo-icons.css" rel="stylesheet">
  <link href="https://appsrv1-147a1.kxcdn.com/builder/homepage/assets/css/nucleo-svg.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <script src="https://kit.fontawesome.com/349ee9c857.js" crossorigin="anonymous"></script>
  <link id="pagestyle" href="https://appsrv1-147a1.kxcdn.com/builder/homepage/assets/css/corporate-ui-dashboard.min.css?v=1.0.0" rel="stylesheet">
  <link id="pagestyle" href="https://appsrv1-147a1.kxcdn.com/builder/homepage/assets/custom/style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/app-generator/free-site-builder@1.0.25/dist/style.css" rel="stylesheet" crossorigin="anonymous">
  <style id="global-custom-style"></style>

  <!-- Add "html-docx-js" Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html-docx-js/0.3.1/html-docx.js"></script>

  <style>
    /* Property editable window  */
    #right-aside {
            width: 250px;
            background-color: #f8f9fa;
            padding: 20px;
            border-left: 2px solid #ddd;
        }
    
   /* Make sure the image and carousel item have relative positioning */
    .carousel-item {
        position: relative;
    }

    /* Style the resize handle */
    .resize-handle {
        position: absolute;
        bottom: 10px;
        right: 10px;
        width: 16px;
        height: 16px;
        background-color: #E32636;
        cursor: se-resize; /* indicates diagonal resize */
        z-index: 10;
    }

    /* Optional: Add some styles for the carousel and image */
    .carousel-item img {
        transition: width 0.2s ease, height 0.2s ease; /* Smooth resizing effect */
    }    
    
    /* CSS for styling the toast Notification  */
    .toast {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        padding: 10px;
        border-radius: 5px;
        background-color: #28a745;
        color: white;
        font-size: 16px;
        opacity: 0.9;
        z-index: 9999;
        }

        .toast.toast-error {
        background-color: #dc3545;
        }

        .toast.toast-success {
        background-color: #28a745;
        }

        /* # resizable component */
        /* .list {
      width: 100px;
      height: 100px;
      background: lightgray;
      margin: 10px;
      padding: 10px;
      cursor: grab;
    } */

        .resizable-component {
  position: relative;
  width: 300px;
  min-width: 150px;
  border: 1px solid #ccc;
  margin-bottom: 15px;
  padding: 10px;
  background: #fff;
}

.resizer {
  position: absolute;
  width: 8px;
  height: 100%;
  right: 0;
  top: 0;
  background: #aaa;
  cursor: ew-resize;
  z-index: 5;
}

  </style>

</head>
<body>
  <div id="app">
    <div id="layout">
<!-- Navigation Bar -->
<div id="app">
  <!-- <div id="layout" style="display: none;"> -->
    <div id="layout">
    <header class="header">
      <div class="container-fluid">
        <div class="innerHeader">
          <div class="headerActions">
            <!-- Buttons -->
            <button id="action_clear" type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#confirmModal">
              <i class="fa-solid fa-eraser"></i><span>Clear</span>
            </button>
            <button id="action_preview" type="button" class="btn btn-outline-primary">
              <span>Preview</span>
            </button>
            <button id="action_download" type="button" class="btn btn-outline-secondary">
              <span>Download</span>
            </button>
            <button id="action_deploy" type="button" class="btn btn-outline-primary">
              <span>Deploy</span>
            </button>
            <button id="action_save" type="button" class="btn btn-outline-success">
              <span>Save</span>
            </button>
            <button id="action_back" type="button" class="btn btn-outline-warning">
              <span>Back</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container-fluid flex-grow-1 d-flex">
        <!-- Left Aside - Components Section -->
      <aside class="leftaside workspace-container p-3" style="width:300px; height:100%">
          <!-- <button class="btn btn-secondary mb-3"><i class="fa-solid fa-chevron-right"></i></button> -->
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="components-tab" data-bs-toggle="tab" data-bs-target="#components" type="button" role="tab" aria-controls="components" aria-selected="true">
                Components
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="help-tab" data-bs-toggle="tab" data-bs-target="#help" type="button" role="tab" aria-controls="help" aria-selected="false">
                Help
              </button>
            </li>
          </ul>

          <div class="component list-group">
            <div class="d-flex">
                <!-- Sidebar for Components -->
                <div class="sidebar" id="sidebar">
                    <!-- Navbar Component -->

                    <!-- Resizable Container Starting from Navbar Button -->
                    <div class="resizable-navbar" id="resizableNavbar">
                        <!-- Navbar Component -->
                        <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                        type="button" data-bs-toggle="collapse" data-bs-target="#navbar-container" style="background-color: #f9e2e2;">
                        Navbar <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                        </button>
                        <div id="navbar-container" class="list collapse mt-3 mb-3" draggable="true" ondragstart="drag(event)" data-type="navbar">
                            <nav class="navbar navbar-expand-lg">     
                                <a class="navbar-brand bold" href="#">Navbar</a>
                                <a class="navbar-brand" href="#">Home</a>
                                <a class="navbar-brand" href="#">About</a>
                                <a class="navbar-brand" href="#">Services</a>
                            </nav>
                        </div>
                        <div class="resizer"></div>
                    </div>
                     <!-- <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                     type="button" data-bs-toggle="collapse" data-bs-target="#navbar-container" style="background-color: #f9e2e2;">
                     Navbar <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                    </button>
                    <div id="navbar-container" class="list collapse mt-3 mb-3" draggable="true" ondragstart="drag(event)" data-type="navbar">
                        <nav class="navbar navbar-expand-lg">     
                            <a class="navbar-brand bold" href="#">Navbar</a>
                            <a class="navbar-brand" href="#">Home</a>
                            <a class="navbar-brand" href="#">About</a>
                            <a class="navbar-brand" href="#">Services</a>
                        </nav>
                    </div> -->

                    <!-- Header Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#header-container" style="background-color: #f9e2e2;">
                    Header <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>
                    <div id="header-container" class="list collapse mt-3 mb-3" draggable="true" data-type="header">
                        <header class="p-4 shadow rounded headerComp">
                            <h1 class="fw-bold">Header Title</h1>   
                            <p>Subtitle or tagline</p>
                        </header> 
                    </div>

                    <!-- Buttons Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#button-container" style="background-color: #f9e2e2;">
                    Buttons <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>                    
                   <div id="button-container" class="list collapse mt-3 mb-3" draggable="true" data-type="buttons">
                    <div class="mt-3" draggable="true" ondragstart="drag(event)" data-type="single-button">
                        <button class="btn btn-outline-dark px-4 py-2 fw-bold rounded">Single Button</button>
                    </div>
                    <hr class="my-2">
                      <button class="btn btn-primary px-4 py-2 fw-bold shadow rounded">Primary Button</button>
                      <button class="btn btn-secondary px-4 py-2 fw-bold shadow-sm rounded">Secondary Button</button>
                   </div>

                    <!-- Cards Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#cards-container" style="background-color: #f9e2e2;">
                    Cards <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>                    
                   <div id="cards-container" class="list collapse mt-3 mb-3" draggable="true" data-type="cards">
                        <div class="card" style="width: 18rem;">
                            <img src="https://via.placeholder.com/150" class="card-img-top" alt="Card Image">
                            <div class="card-body">
                                <h5 class="card-title">Card Title</h5>
                                <p class="card-text">Some quick example text to build on the card title.</p>
                                <a href="#" class="btn btn-primary">Go somewhere</a>
                            </div>
                        </div>
                    </div>

                    <!-- Carousels Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#carousels-container" style="background-color: #f9e2e2;">
                    Carousels <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>                    
                   <div id="carousels-container" class="list collapse mt-3 mb-3" draggable="true" data-type="carousels">
                        <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="https://via.placeholder.com/400x200" class="d-block w-100" alt="Slide 1">
                                    <div class="resize-handle"></div> <!-- Resize handle -->

                                </div>
                                <div class="carousel-item">
                                    <img src="https://via.placeholder.com/400x200" class="d-block w-100" alt="Slide 2">
                                    <!-- <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085" class="d-block w-100" alt="Slide 2"> -->
                                </div>
                            </div>

                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon"></span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                                <span class="carousel-control-next-icon"></span>
                            </button>
                        </div>
                    </div>

                    <!-- Form Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#forms-container" style="background-color: #f9e2e2;">
                    Forms <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>
                    <div id="forms-container" class="list collapse formComp" draggable="true" data-type="forms">
                        <form>
                            <div class="mb-3">
                                <label class="form-label">Email address</label>
                                <input type="email" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Password</label>
                                <input type="password" class="form-control">
                            </div>
                            <button type="submit" class="btn btn-success">Submit</button>
                        </form>
                    </div>

                    <!-- Contacts Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#contact-container" style="background-color: #f9e2e2;">
                    Contacts <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>                    
                   <div id="contact-container" class="list collapse mt-3 mb-3" draggable="true" data-type="contacts">
                        <div class="p-3 border contactComp">
                            <h4>Contact Us</h4>
                            <p>Email: contact@flexiui.com</p>
                            <p>Phone: +123456789</p>
                        </div>
                    </div>

                    <!-- Grid Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#grid-container" style="background-color: #f9e2e2;">
                    Grid <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>                    
                   <div id="grid-container" class="list collapse mt-3 mb-3" draggable="true" data-type="grid">
                        <div class="row" style="background-color: #dee2e6;">
                            <div class="col p-3">Grid Item 1</div>
                            <div class="col p-3">Grid Item 2</div>
                            <div class="col p-3">Grid Item 3</div>
                        </div>
                    </div>

                    <!-- Footer Component -->
                    <button class="btn collapsed btn-light text-black border border-black w-100 py-3"
                    type="button" data-bs-toggle="collapse" data-bs-target="#footer-container" style="background-color: #f9e2e2;">
                    Footer <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>   
                   </button>                    
                   <div id="footer-container" class="list collapse mt-3 mb-3" draggable="true" data-type="footer">
                        <footer class="p-3 footerComp" style="background-color: #dee2e6;">
                            <p>&copy; 2025 FlexiUI. All Rights Reserved.</p>
                        </footer>
                    </div>
                </div>
            </div>
        </div>
      </aside>

        <!-- Canvas Section -->
        <section id="canvas" class="flex-grow-1 bg-white border border-2 border-secondary border-line m-2 p-4">
         <!-- Canvas for Dropping Components -->
          <div class="canvas" id="canvas" ondrop="drop(event)" ondragover="allowDrop(event)">
          <!-- Dropped components will appear here -->
         </div>
        </section>

        <!-- Right Aside :- Properties Section -->
        <!-- <aside id="right-aside" class="bg-light p-3 shadow-sm" style="width: 250px;"> -->
          <div id="right-aside" class="workspace-container">
                <div class="properties-panel" id="propertiesPanel">
                    <div class="panel-header">
                        <h5>Properties Panel</h5>
                        <button class="btn-close" onclick="togglePanel()"></button>
                    </div>
                    <div class="panel-content">
                        <div class="accordion" id="propertyAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="btn btn-light text-black border border-black w-100 py-3" 
                                    type="button" data-bs-toggle="collapse" data-bs-target="#generalProperties" style="background-color: #f9e2e2;">
                                    General Properties <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>
                                    </button>
                                </h2>
                                <div id="generalProperties" class="accordion-collapse collapse show">
                                    <div class="accordion-body">
                                        <div class="mb-3">
                                            <label class="form-label">Component ID</label>
                                            <input type="text" class="form-control" id="componentId" readonly>
                                        </div>

                                        <!-- Component Type Filtering
This allows users to filter components by type (e.g., show only buttons or cards). -->
                                        <div class="mb-3">
                                            <label class="form-label">Component Type</label>
                                            <select id="componentFilter" class="form-select" onchange="filterComponents()">
                                                <option value="all">All Components</option>
                                                <option value="navbar">Navbar</option>
                                                <option value="header">Header</option>
                                                <option value="buttons">Buttons</option>
                                                <option value="cards">Cards</option>
                                                <option value="carousels">Carousels</option>
                                                <option value="forms">Forms</option>
                                                <option value="contacts">Contacts</option>
                                                <option value="grid">Grid</option>
                                                <option value="footer">Footer</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            

                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="btn collapsed btn-light text-black border border-black w-100 py-3" 
                                type="button" data-bs-toggle="collapse" data-bs-target="#styleProperties" style="background-color: #f9e2e2;">
                                    Style Properties <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>
                                </button>
                            </h2>
                            <div id="styleProperties" class="accordion-collapse collapse">
                                <div class="accordion-body">
                                    <div class="mb-3">
                                        <label class="form-label">Background Color</label>
                                        <input type="color" class="form-control form-control-color" id="bgColor">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Text Color</label>
                                        <input type="color" class="form-control form-control-color" id="textColor">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Font Size</label>
                                        <input type="range" class="form-range" min="8" max="72" id="fontSize">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Alignment</label>
                                        <div class="btn-group w-100">
                                            <button class="btn btn-outline-primary" data-align="left"><i class="fa-solid fa-align-left"></i></button>
                                            <button class="btn btn-outline-primary" data-align="center"><i class="fa-solid fa-align-center"></i></button>
                                            <button class="btn btn-outline-primary" data-align="right"><i class="fa-solid fa-align-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="btn btn-light text-black border border-black w-100 py-3" 
                                type="button" data-bs-toggle="collapse" data-bs-target="#contentProperties" style="background-color: #f9e2e2;">
                                    Content Properties <span class="p-1"><i class="fa-solid fa-angle-down"></i></span>
                                </button>
                            </h2>
                            <div id="contentProperties" class="accordion-collapse collapse">
                                <div class="accordion-body">
                                    <div class="mb-3">
                                        <label class="form-label">Text Content</label>
                                        <textarea class="form-control" id="textContent" rows="3"></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Image URL</label>
                                        <input type="url" class="form-control" id="imageUrl" placeholder="Enter image URL">
                                    </div>
                                    <input type="color" id="image-border-color" class="form-control">
                                    <div class="mb-3">
                                        <label class="form-label">Link URL</label>
                                        <input type="url" class="form-control" id="linkUrl">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                        
                        <div class="panel-actions mt-3">
                            <button class="btn btn-primary border-black w-100 mb-2" style="background-color: #E32636;" onclick="saveProperties()">Save Changes</button>
                            <button class="btn btn-outline-secondary w-100" onclick="resetProperties()">Reset</button>
                        </div>
                    </div>
                </div>
            </div>
        <!-- </aside> -->
      </main>
    </div>
  </div>

  <!-- JavaScript -->
   <script src="/static/js/main.js"></script>
   <!-- for collapse functionality -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Include html2canvas library for save functionality -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

   <script>
    //  Filtering Function (JS)
    function filterComponents() {
    let selectedType = document.getElementById("componentFilter").value;
    let components = document.querySelectorAll(".list[draggable='true']");

    components.forEach(component => {
        let componentType = component.dataset.type; // Get type from data attribute
        component.style.display = (selectedType === "all" || componentType === selectedType) 
            ? "block" 
            : "none";
    });
    }
   </script>

<script>
    // card working properly and navlinks color change in this but navlinks text not change
    document.addEventListener("DOMContentLoaded", function () {
        let selectedComponent = null;

        // Event listener to detect selection of different components
        // Yeh ensure karega ki sahi component select ho raha hai.
        document.getElementById("canvas").addEventListener("click", function (event) {
            let closestComponent = event.target.closest(
                ".navbar, .headerComp, .btn, .card, .carousel, .formComp, .contactComp, .row, .footerComp"
            );

            // Special case: if clicked directly on <form>, get its parent .formComp
                if (closestComponent && closestComponent.tagName === "FORM") {
                closestComponent = closestComponent.closest(".formComp");
            }

            console.log("Clicked target:", event.target);
            console.log("Closest component:", closestComponent);

            if (closestComponent) {
                selectedComponent = closestComponent; // Store selected component (Set global selectedComponent)
                loadComponentProperties(selectedComponent);
                loadStyleProperties(selectedComponent);
            }
        });

        // Function to load component properties (text)
        // Yeh function unnecessary spaces remove karega aur proper values fetch karega.

        function loadComponentProperties(component) {
            let textContent = "";

            if (component.classList.contains("navbar")) {
                textContent = Array.from(component.querySelectorAll(".navbar-brand"))
                    .map(link => link.innerText)
                    .join("\n");
            } else if (component.classList.contains("headerComp")) {
                let title = component.querySelector("h1")?.innerText || "";
                let subtitle = component.querySelector("p")?.innerText || "";
                textContent = `${title}\n${subtitle}`;
            } else if (component.classList.contains("btn")) {
                textContent = component.innerText;
            } else if (component.classList.contains("card")) {
                let title = component.querySelector(".card-title")?.innerText || "";
                let body = component.querySelector(".card-text")?.innerText || "";
                textContent = `${title}\n${body}`;
            } else if (component.classList.contains("carousel")) {
                textContent = Array.from(component.querySelectorAll(".carousel-item img"))
                    .map((img, index) => `Slide ${index + 1}: ${img.alt}`)
                    .join("\n");
            } else if (component.classList.contains("formComp")) {
                console.log("Form component selected ");
                const form = component.querySelector("form");
                if (form) {
                    const labels = form.querySelectorAll("label");
                    textContent = Array.from(form.querySelectorAll("input")).map((input, index) => {
                        const labelText = labels[index]?.innerText || "";
                        return `${labelText}: ${input.value}`;
                    }).join("\n");
                }
            } else if (component.classList.contains("contactComp")) {
                textContent = Array.from(component.querySelectorAll("p"))
                    .map(detail => detail.innerText)
                    .join("\n");
            } else if (component.classList.contains("row")) {
                textContent = Array.from(component.querySelectorAll(".col"))
                    .map((item, index) => `Grid Item ${index + 1}: ${item.innerText}`)
                    .join("\n");
            } else if (component.classList.contains("footerComp")) {
                textContent = component.querySelector("p")?.innerText || "";
            }

            document.getElementById("textContent").value = textContent;
        }

        // Function to update the carousel image
        function updateCarouselImage() {
            // Get the value of the image URL input
            var imageUrl = document.getElementById('imageUrl').value;
            // Get the carousel image element
            var carouselImage = document.querySelector('#carouselExample .carousel-item.active img');
            
            // Update the image source if a valid URL is provided
            if (imageUrl) {
                carouselImage.src = imageUrl;
            }
        }
        // Add event listener to update image when the user changes the URL
        document.getElementById('imageUrl').addEventListener('input', updateCarouselImage);

        // ____________________________________ 
        // Function to load style properties
        function loadStyleProperties(component) {
            let computedStyle = window.getComputedStyle(component);
            document.getElementById("bgColor").value = rgbToHex(computedStyle.backgroundColor);
            document.getElementById("textColor").value = rgbToHex(computedStyle.color);
            document.getElementById("fontSize").value = parseInt(computedStyle.fontSize);
        }

        // Function to convert RGB to HEX
        function rgbToHex(rgb) {
            let match = rgb.match(/\d+/g);
            if (!match) return "#000000";
            return `#${((1 << 24) + (parseInt(match[0]) << 16) + (parseInt(match[1]) << 8) + parseInt(match[2])).toString(16).slice(1)}`;
        }

        // Event listener for background color change
        document.getElementById("bgColor").addEventListener("input", function () {
            if (selectedComponent) {
                selectedComponent.style.backgroundColor = this.value;

                // Apply bg color to navbar links as well
                if (selectedComponent.classList.contains("navbar")) {
                    selectedComponent.querySelectorAll(".nav-link").forEach(link => {
                        link.style.backgroundColor = this.value;
                    });
                }
            }
        });

        // Event listener for text color change
        document.getElementById("textColor").addEventListener("input", function () {
            if (selectedComponent) {
                selectedComponent.style.color = this.value;

                // Apply text color to all nested text elements
                selectedComponent.querySelectorAll("*").forEach(el => {
                    el.style.color = this.value;
                });
            }
        });

        // Event listener for font size change
        document.getElementById("fontSize").addEventListener("input", function () {
            if (selectedComponent) {
                selectedComponent.style.fontSize = `${this.value}px`;

                // Apply font size to navbar links as well
                if (selectedComponent.classList.contains("navbar")) {
                    selectedComponent.querySelectorAll(".navbar-brand").forEach(link => {
                        link.style.fontSize = `${this.value}px`;
                    });
                }
            }
        });

        // Event listener for alignment buttons
        document.querySelectorAll("[data-align]").forEach(button => {
            button.addEventListener("click", function () {
                let alignment = this.getAttribute("data-align");
                if (selectedComponent) {
                    selectedComponent.style.textAlign = alignment;

                    // Apply alignment to navbar links
                    if (selectedComponent.classList.contains("navbar")) {
                        selectedComponent.querySelectorAll(".navbar-nav").style.justifyContent =
                        alignment === "left" ? "flex-start" :
                        alignment === "center" ? "center" : "flex-end";                   
                    }
                }
            });
        });

        // Function to save properties (text and styles)
        window.saveProperties = function () {
            let updatedText = document.getElementById("textContent").value.split("\n");

            if (!selectedComponent) return;

            if (selectedComponent.classList.contains("navbar")) {
                selectedComponent.querySelectorAll(".navbar-brand").forEach((link, index) => {
                    if (updatedText[index]) link.innerText = updatedText[index];
                });
            } 
            else if (selectedComponent.classList.contains("headerComp")) {
                let title = selectedComponent.querySelector("h1");
                let subtitle = selectedComponent.querySelector("p");
                if (title) title.innerText = updatedText[0] || "";
                if (subtitle) subtitle.innerText = updatedText[1] || "";
            } else if (selectedComponent.classList.contains("btn")) {
                selectedComponent.innerText = updatedText[0] || "";
            }  else if (selectedComponent.classList.contains("card")) {
                let title = selectedComponent.querySelector(".card-title");
                let body = selectedComponent.querySelector(".card-text");
                if (updatedText.length >= 2) { // Ensure both title & body exist
                    if (title) {
                        title.innerText = updatedText[0] || "";
                    }
                    if (body) {
                        body.innerText = updatedText.slice(1).join("\n") || ""; // Preserve multi-line text
                    }
                }
            }else if (selectedComponent.classList.contains("carousel")) {
                selectedComponent.querySelectorAll(".carousel-item img").forEach((img, index) => {
                    if (updatedText[index]) img.alt = updatedText[index];
                });
            } else if (selectedComponent.classList.contains("formComp")) {
                const form = selectedComponent.querySelector("form");
                if (form) {
                    let labels = form.querySelectorAll("label");
                    let inputs = form.querySelectorAll("input");

                    updatedText.forEach((text, index) => {
                        let parts = text.split(":");
                        let labelText = parts[0] ? parts[0].trim() : "";
                        let inputValue = parts[1] ? parts[1].trim() : "";
                        if (labels[index]) {
                            labels[index].innerText = labelText;
                        }
                        if (inputs[index]) {
                            inputs[index].value = inputValue;
                        }
                    });
                }
            } else if (selectedComponent.classList.contains("row")) {
                selectedComponent.querySelectorAll(".col").forEach((item, index) => {
                    if (updatedText[index]) item.innerText = updatedText[index];
                });
            }else if (selectedComponent.classList.contains("footerComp")) {
                let footerText = selectedComponent.querySelector("p");
                if (footerText) footerText.innerText = updatedText[0] || "";
            }
        };
    });
</script>
</body>
</html>